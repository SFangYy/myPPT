import{a as M,b as O,c as G,d as A}from"../modules/unplugin-icons-COxst9Kh.js";import{r as w,ad as H,m as R,B as _,a3 as N,u as e,A as i,d as F,a as I,h as L,ae as E,e as J,af as Q,ag as W,q as B,x as s,z as h,G as o,C as g,a2 as C,a7 as K,aa as U,a1 as X,_ as Y,$ as Z}from"../modules/vue-B2I66eqI.js";import{_ as j,u as ee,c as $,A as te,C as se,y as oe,r as ae,D as y,E as P,F as ne,G as le,H as re,I as ie,g as ce,J as ue,K as de,t as T,L as V,M as pe,N as me,O as _e,P as fe,B as ve,s as S}from"../entry-Rkfn7aqs.js";import{r as xe,S as he,a as q,I as D,Q as ge,N as ye,G as be}from"./SlidesShow-QlHY74d7.js";import{S as ke,g as Ce}from"./bottom-uJZFNs1p.js";import{N as Se}from"./NoteDisplay-CeMKsVzA.js";import we from"./DrawingControls-B96On2Dq.js";import"../modules/shiki-CdPnd8mN.js";import"./DrawingPreview-CzwGjuwt.js";function Ne(a){if(a==null)return{info:w(),update:async()=>{}};const n=`/@slidev/slide/${a}.json`,{data:c,execute:d}=H(n).json().get();return d(),{info:c,update:async u=>await fetch(n,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(u)}).then(t=>t.json())}}const ze=R({__name:"NoteStatic",props:{no:{type:Number,required:!1},class:{type:String,required:!1},clicksContext:{type:null,required:!1}},setup(a){const n=a,{info:c}=Ne(n.no);return(d,f)=>{var u,t;return i(),_(Se,{class:N(n.class),note:(u=e(c))==null?void 0:u.note,"note-html":(t=e(c))==null?void 0:t.noteHTML,"clicks-context":d.clicksContext},null,8,["class","note","note-html","clicks-context"])}}}),Fe=j(ze,[["__file","/usr/lib/node_modules/@slidev/cli/node_modules/@slidev/client/internals/NoteStatic.vue"]]),z=a=>(Y("data-v-51662cb6"),a=a(),Z(),a),Ie={class:"bg-main h-full slidev-presenter"},Be=z(()=>s("div",{class:"absolute left-0 top-0 bg-main border-b border-r border-main px2 py1 op50 text-sm"}," Current ",-1)),$e=z(()=>s("div",{class:"absolute left-0 top-0 bg-main border-b border-r border-main px2 py1 op50 text-sm"}," Next ",-1)),Pe={key:1,class:"grid-section note grid grid-rows-[1fr_min-content] overflow-hidden"},Te={class:"border-t border-main py-1 px-2 text-sm"},Ve={class:"grid-section bottom flex"},qe=z(()=>s("div",{"flex-auto":""},null,-1)),De={class:"text-2xl pl-2 pr-6 my-auto tabular-nums"},Re={class:"progress-bar"},je=R({__name:"presenter",setup(a){const n=w();xe(),ee(n);const c=$.titleTemplate.replace("%s",$.title||"Slidev");te({title:`Presenter - ${c}`}),w(!1);const{timer:d,resetTimer:f}=se(),u=oe.map(x=>ae(x)),t=F(()=>y.value.current<y.value.total?[P.value,y.value.current+1]:ne.value?[le.value,0]:null),v=F(()=>t.value&&u[+t.value[0].path-1]);return I([P,re],()=>{v.value&&(v.value.current=t.value[1])},{immediate:!0}),L(),E(()=>{const x=n.value.querySelector("#slide-content"),r=J(Q()),b=W();I(()=>{if(!b.value||ce.value||!ue.value)return;const l=x.getBoundingClientRect(),p=(r.x-l.left)/l.width*100,m=(r.y-l.top)/l.height*100;if(!(p<0||p>100||m<0||m>100))return{x:p,y:m}},l=>{ie.cursor=l})}),(x,r)=>{const b=M,l=O,p=G,m=A;return i(),B(X,null,[s("div",Ie,[s("div",{class:N(["grid-container",`layout${e(de)}`])},[s("div",{ref_key:"main",ref:n,class:"relative grid-section main flex flex-col p-2 lg:p-4",style:h(e(T))},[o(q,{key:"main",class:"h-full w-full"},{default:g(()=>[o(he,{"render-context":"presenter"})]),_:1}),Be],4),s("div",{class:"relative grid-section next flex flex-col p-2 lg:p-4",style:h(e(T))},[t.value&&v.value?(i(),_(q,{key:"next",class:"h-full w-full"},{default:g(()=>[(i(),_(e(ke),{is:t.value[0].component,key:t.value[0].path,"clicks-context":v.value,class:N(e(Ce)(t.value[0])),route:t.value[0],"render-context":"previewNext"},null,8,["is","clicks-context","class","route"]))]),_:1})):C("v-if",!0),$e],4),C(" Notes "),(i(),B("div",Pe,[(i(),_(Fe,{key:`static-${e(V)}`,no:e(V),class:"w-full max-w-full h-full overflow-auto p-2 lg:p-4",style:h({fontSize:`${e(pe)}em`}),"clicks-context":e(y)},null,8,["no","style","clicks-context"])),s("div",Te,[o(D,{title:"Increase font size",onClick:e(me)},{default:g(()=>[o(b)]),_:1},8,["onClick"]),o(D,{title:"Decrease font size",onClick:e(_e)},{default:g(()=>[o(l)]),_:1},8,["onClick"]),C("v-if",!0)])])),s("div",Ve,[o(ye,{persist:!0}),qe,s("div",{class:"timer-btn my-auto relative w-22px h-22px cursor-pointer text-lg",opacity:"50 hover:100",onClick:r[2]||(r[2]=(...k)=>e(f)&&e(f)(...k))},[o(p,{class:"absolute"}),o(m,{class:"absolute opacity-0"})]),s("div",De,K(e(d)),1)]),(i(),_(we,{key:2}))],2),s("div",Re,[s("div",{class:"progress h-2px bg-primary transition-all",style:h({width:`${(e(fe)-1)/(e(ve)-1)*100}%`})},null,4)])]),o(be),o(ge,{modelValue:e(S),"onUpdate:modelValue":r[3]||(r[3]=k=>U(S)?S.value=k:null)},null,8,["modelValue"])],64)}}}),We=j(je,[["__scopeId","data-v-51662cb6"],["__file","/usr/lib/node_modules/@slidev/cli/node_modules/@slidev/client/pages/presenter.vue"]]);export{We as default};
